<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="com.web.shop.mappers.UserMapper">
  
  <!-- 회원가입 -->
  <insert id="register">
  	INSERT INTO user_t(
  		userId,
  		password,
  		userName,
  		userGen,
  		userEmail,
  		userPhone,
  		userAddr )
  		VALUES(
  		#{userId},
  		#{password},
  		#{userName},
  		#{userGen},
  		#{userEmail},
  		#{userPhone},
  		#{userAddr})	
  </insert>
  
  <!-- 로그인 -->
  <select id="login" resultMap="userVOResultMap">
  SELECT * FROM user_t
		 WHERE userId = #{userId}
  </select>
  
  <update id="keepLogin"> 
  UPDATE user_t SET 
  	session_key = #{sessionId} , 
  	session_limit = #{sessionLimit} 
  	WHERE userId = #{userId} 
  </update>
  
  <select id="checkUserWithSessionKey" resultMap="userVOResultMap">
  SELECT * FROM user_t WHERE session_key = #{value}
  </select>

  
  </mapper>